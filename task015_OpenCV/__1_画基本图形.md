这里将介绍以下基本图形的绘制：
```
  直线
  矩形(包括正方形和倾斜的矩形)
  圆形
  椭圆
  多边形(包括任意多边形)
```
每个示例都会给出代码并注释说明

注意：所有绘制操作都会修改原始图像，因此通常在一个空白图像或已有图像上绘制

先创建一个空白的图像作为画布，然后在其上绘制

步骤：
```
  包含必要的头文件
  创建一个空白图像（Mat对象）
  使用不同的绘制函数绘制图形
  显示图像并等待用户关闭窗口
```
开始吧
```cpp
#include <opencv2/opencv.hpp>
#include <iostream>

int main() {
  // 1. 创建画布
  cv::Mat canvas = cv::Mat::zeros(600, 800, CV_8UC3);

  // 定义颜色
  cv::Scalar red(0, 0, 255);      // BGR: 红色
  cv::Scalar green(0, 255, 0);    // BGR: 绿色
  cv::Scalar blue(255, 0, 0);     // BGR: 蓝色
  cv::Scalar white(255, 255, 255);// BGR: 白色
  cv::Scalar yellow(0, 255, 255); // BGR: 黄色
```

## 1. 绘制直线（完全限定版本）

```cpp

/**
 * @brief 绘制一条线段连接两个点
 * 
 * 该函数在图像上绘制一条从点 pt1 到点 pt2 的线段，线段颜色由 color 指定，
 * 支持设置线条宽度、线型和坐标精度偏移量。线段会被剪裁至图像边界内。
 * 
 * @param img [in/out] 输入输出图像，绘制的线段会直接修改该图像
 * @param pt1 [in] 线段的第一个端点坐标 (x1, y1)
 * @param pt2 [in] 线段的第二个端点坐标 (x2, y2)
 * @param color [in] 线段的颜色，BGR 格式（如 Scalar(255,0,0) 表示蓝色）
 * @param thickness [in] 线段的宽度，默认值为1；若设为 FILLED(-1) 则填充线段区域（仅对特殊线型有效）
 * @param lineType [in] 线段的类型，可选值：
 *        - LINE_4: 4邻域连接线型
 *        - LINE_8: 8邻域连接线型（默认）
 *        - LINE_AA: 抗锯齿线型（平滑边缘）
 * @param shift [in] 坐标点的小数位数偏移量，默认值为0（坐标为整数）
 * 
 * @note 1. 若图像为多通道，则 color 的通道数需与图像通道数匹配；
 *       2. 抗锯齿线型 (LINE_AA) 仅支持 8位单通道或 BGR 彩色图像；
 *       3. 当 thickness 过大时，线段端点可能出现锯齿，建议配合 LINE_AA 使用。
 * @sa cv::rectangle, cv::circle, cv::ellipse
 */
CV_EXPORTS_W void line(InputOutputArray img, Point pt1, Point pt2, const Scalar& color,
                        int thickness = 1, int lineType = LINE_8, int shift = 0);



  // 1.1 绘制水平直线
  cv::line(canvas, cv::Point(50, 50), cv::Point(200, 50), red, 2);
  // 1.2 绘制另一条直线
  cv::line(canvas, cv::Point(50, 80), cv::Point(200, 80), green, 2, cv::LINE_8);
  // 1.3 绘制对角线
  cv::line(canvas, cv::Point(50, 100), cv::Point(200, 200), blue, 3, cv::LINE_AA);

```

## 2. 绘制矩形和正方形

```cpp
    // 2.1 绘制空心矩形
    cv::rectangle(canvas, 
                  cv::Point(250, 50), 
                  cv::Point(400, 150), 
                  green, 
                  2);
    
    // 2.2 绘制实心矩形（填充）
    cv::rectangle(canvas, 
                  cv::Point(450, 50), 
                  cv::Point(600, 150), 
                  cv::Scalar(100, 100, 255), 
                  -1);  // -1表示填充
    
    // 2.3 绘制正方形
    int side = 100;
    cv::rectangle(canvas, 
                  cv::Point(650, 50), 
                  cv::Point(650 + side, 50 + side), 
                  yellow, 
                  2);
```

## 3. 绘制圆形

```cpp
    // 3.1 绘制空心圆
    cv::circle(canvas, 
               cv::Point(100, 300), 
               50, 
               blue, 
               3);
    
    // 3.2 绘制实心圆
    cv::circle(canvas, 
               cv::Point(250, 300), 
               50, 
               cv::Scalar(255, 100, 100), 
               -1);  // -1表示填充
    
    // 3.3 绘制抗锯齿的圆
    cv::circle(canvas, 
               cv::Point(400, 300), 
               50, 
               red, 
               2, 
               cv::LINE_AA);
```

## 4. 绘制椭圆

```cpp
    // 4.1 绘制完整椭圆
    cv::ellipse(canvas, 
                cv::Point(100, 450), 
                cv::Size(80, 50), 
                0,      // 旋转角度
                0,      // 起始角度
                360,    // 结束角度
                green, 
                2);
    
    // 4.2 绘制旋转45度的椭圆
    cv::ellipse(canvas, 
                cv::Point(250, 450), 
                cv::Size(80, 50), 
                45,     // 旋转45度
                0, 
                360, 
                blue, 
                2);
    
    // 4.3 绘制椭圆弧
    cv::ellipse(canvas, 
                cv::Point(400, 450), 
                cv::Size(80, 50), 
                0, 
                30,     // 起始30度
                270,    // 结束270度
                red, 
                2);
```

## 5. 绘制倾斜矩形（旋转矩形）

```cpp
    // 5.1 创建RotatedRect对象
    cv::Point center(550, 450);
    cv::Size rectSize(120, 80);
    double angle = 30;  // 旋转30度
    
    cv::RotatedRect rRect(center, rectSize, angle);
    cv::Point2f vertices[4];
    rRect.points(vertices);
    
    // 5.2 连接四个顶点形成矩形
    for (int i = 0; i < 4; i++) {
        cv::line(canvas, 
                 vertices[i], 
                 vertices[(i + 1) % 4], 
                 cv::Scalar(255, 0, 255), 
                 2);
    }
```

## 6. 绘制多边形

```cpp
    // 6.1 定义三角形顶点
    std::vector<cv::Point> triangle;
    triangle.push_back(cv::Point(650, 350));
    triangle.push_back(cv::Point(750, 350));
    triangle.push_back(cv::Point(700, 450));
    
    // 6.2 逐个连接顶点（空心三角形）
    for (int i = 0; i < 3; i++) {
        cv::line(canvas, 
                 triangle[i], 
                 triangle[(i + 1) % 3], 
                 white, 
                 2);
    }
    
    // 6.3 绘制五边形
    std::vector<cv::Point> pentagon;
    for (int i = 0; i < 5; i++) {
        double theta = i * 72 * CV_PI / 180.0;
        int x = 200 + 50 * cos(theta);
        int y = 550 + 50 * sin(theta);
        pentagon.push_back(cv::Point(x, y));
    }
    
    std::vector<std::vector<cv::Point>> pentagonContours;
    pentagonContours.push_back(pentagon);
    cv::polylines(canvas, 
                  pentagonContours, 
                  true,      // 闭合
                  cv::Scalar(0, 255, 255), 
                  2);
    
    // 6.4 绘制实心六边形
    std::vector<cv::Point> hexagon;
    for (int i = 0; i < 6; i++) {
        double theta = i * 60 * CV_PI / 180.0;
        int x = 400 + 50 * cos(theta);
        int y = 550 + 50 * sin(theta);
        hexagon.push_back(cv::Point(x, y));
    }
    
    std::vector<std::vector<cv::Point>> hexagonContours;
    hexagonContours.push_back(hexagon);
    cv::fillPoly(canvas, 
                 hexagonContours, 
                 cv::Scalar(100, 100, 255));
```

## 7. 绘制箭头

```cpp
    // 7.1 绘制水平箭头
    cv::arrowedLine(canvas, 
                    cv::Point(500, 550), 
                    cv::Point(600, 550), 
                    green, 
                    3, 
                    8,     // 线型
                    0,     // shift
                    0.1);  // 尖端长度比例
    
    // 7.2 绘制斜向箭头
    cv::arrowedLine(canvas, 
                    cv::Point(500, 580), 
                    cv::Point(600, 630), 
                    blue, 
                    3, 
                    cv::LINE_AA, 
                    0, 
                    0.1);
```

## 8. 添加文字

```cpp
    // 8.1 添加各种标签
    cv::putText(canvas, 
                "Lines", 
                cv::Point(50, 40), 
                cv::FONT_HERSHEY_SIMPLEX, 
                0.6, 
                white, 
                1);
    
    cv::putText(canvas, 
                "Rectangles", 
                cv::Point(250, 40), 
                cv::FONT_HERSHEY_SIMPLEX, 
                0.6, 
                white, 
                1);
    
    cv::putText(canvas, 
                "Circles", 
                cv::Point(50, 280), 
                cv::FONT_HERSHEY_SIMPLEX, 
                0.6, 
                white, 
                1);
    
    cv::putText(canvas, 
                "Ellipses", 
                cv::Point(50, 430), 
                cv::FONT_HERSHEY_SIMPLEX, 
                0.6, 
                white, 
                1);
    
    cv::putText(canvas, 
                "Rotated Rect", 
                cv::Point(500, 430), 
                cv::FONT_HERSHEY_SIMPLEX, 
                0.6, 
                white, 
                1);
    
    cv::putText(canvas, 
                "Polygons", 
                cv::Point(200, 520), 
                cv::FONT_HERSHEY_SIMPLEX, 
                0.6, 
                white, 
                1);
    
    cv::putText(canvas, 
                "Arrows", 
                cv::Point(500, 520), 
                cv::FONT_HERSHEY_SIMPLEX, 
                0.6, 
                white, 
                1);
```

## 9. 显示和保存

```cpp
    // 9.1 显示图像
    cv::imshow("OpenCV Basic Shapes Drawing", canvas);
    
    // 9.2 等待按键
    cv::waitKey(0);
    
    // 9.3 保存到文件
    cv::imwrite("basic_shapes.jpg", canvas);
    
    return 0;
}
```

## 编译命令示例（Linux/Mac）

```bash
# 使用g++编译
g++ -o draw_shapes draw_shapes.cpp `pkg-config --cflags --libs opencv4`

# 或者指定OpenCV路径
g++ -o draw_shapes draw_shapes.cpp -I/usr/include/opencv4 -lopencv_core -lopencv_highgui -lopencv_imgproc
```

## 关键点总结：

1. **所有OpenCV类和方法都使用`cv::`前缀**
2. **标准库容器使用`std::`前缀**
3. **常量如`CV_8UC3`、`CV_PI`直接使用**（它们是宏或全局常量）
4. **函数参数顺序**：总是（图像, 起点/中心, 颜色, 线宽, ...）
5. **线宽为-1表示填充**
6. **使用`cv::Scalar`创建颜色**（BGR顺序）
7. **`cv::Point`表示2D点**，`cv::Point2f`表示浮点坐标
8. **使用`std::vector<cv::Point>`存储多边形顶点**
